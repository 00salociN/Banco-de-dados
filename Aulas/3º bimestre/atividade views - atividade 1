create table cliente(
CPFCli char(11) not null unique,
nome varchar(100) not null,
constraint PKCliente primary key(CPFCli)
);

create table animal(
IDAnimal int auto_increment,
nomeanimal varchar(100) not null,
tipo varchar(100) not null,
ClienteCPF char(11) not null,
constraint PKAnimal primary key(IDAnimal),
constraint FKDonoAnimal foreign key (ClienteCPF) references cliente(CPFCli)
);

create table funcionario(
CPFfun char(11) not null unique,
nomefun varchar(100) not null,
endereco varchar(100) not null,
telefone varchar(20) not null,
funcao varchar(100) not null,
constraint PKFunc primary key(CPFfun)
);

create table servicoanimal(
IDServico int auto_increment,
ClienteCPF char(11) not null,
CPFFun char(11) not null unique,
AnimalID int not null,
descricaoservico varchar(100) not null,
preco decimal(10,2) not null,
data date not null,
constraint PKServico primary key(IDServico),
constraint FKCPFCli foreign key (ClienteCPF) references cliente(CPFCli),
constraint FKCPFFun foreign key (CPFFun) references funcionario(CPFFun),
constraint FKAnimalserv foreign key (AnimalID) references animal(IDAnimal)
);



create view Boletim_Servicos as
select
cliente.nome,
animal.nomeanimal,
servicoanimal.descricaoservico,
funcionario.nomefun,
servicoanimal.preco,
servicoanimal.data
    from servicoanimal
    join cliente on servicoanimal.Clientecpf = cliente.CPFCli
    join animal on servicoanimal.AnimalID = animal.idanimal
    join funcionario on servicoanimal.CPFFun = funcionario.cpffun;
